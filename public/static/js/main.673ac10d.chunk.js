(this["webpackJsonpevent-with-me"]=this["webpackJsonpevent-with-me"]||[]).push([[0],{136:function(e,t,a){e.exports=a(161)},141:function(e,t,a){},142:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),o=a(111),l=a(220),s=(a(141),a(16)),m=a(22),u=Object(n.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}}),p=a(8),d=a(25),f=a.n(d),v=a(197),E=a(200),h=a(202),g=a(96),b=a.n(g),y=a(94),x=a.n(y),O=a(95),w=a.n(O),j=(a(142),Object(v.a)({root:{width:"100%",position:"fixed",zIndex:"1",bottom:"0",background:"##318fb5"}})),N=Object(s.withRouter)((function(){var e=j(),t=Object(n.useContext)(u),a=Object(n.useState)(0),c=Object(p.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){o(0)}),[t.logout]),r.a.createElement("div",{className:"navi"},t.isLoggedIn&&r.a.createElement(E.a,{value:i,onChange:function(e,t){o(t)},showLabels:!0,className:e.root},r.a.createElement(h.a,{label:"Profil",icon:r.a.createElement(x.a,null),component:f.a,to:"/".concat(t.userId,"/profile")}),r.a.createElement(h.a,{label:"Events",icon:r.a.createElement(w.a,null),component:f.a,to:"/".concat(t.userId,"/events")}),r.a.createElement(h.a,{label:"Logout",icon:r.a.createElement(b.a,null),onClick:t.logout})))})),k=a(203),S=(a(151),function(){var e=Object(n.useContext)(u);return r.a.createElement("div",{className:"HomeLoggedIn"},r.a.createElement(k.a,{variant:"contained",color:"primary",component:f.a,to:"/",size:"large"},"\xdcber Uns"),r.a.createElement(k.a,{variant:"contained",color:"primary",size:"large",component:f.a,to:"/".concat(e.userId,"/profile")},"Zum Profil"))}),C=a(65),I=(a(152),function(){return r.a.createElement("div",{className:"HomeNotLoggedIn"},r.a.createElement("div",{className:"HomeNotLoggedIn--info"},r.a.createElement("img",{src:a(93),alt:"event-with-me"}),r.a.createElement(C.a,{className:"HomeNotLoggedIn--info-text",variant:"body1"},"Erstelle Veranstaltungen wie Geburtstage, Partys, Grillabende, Essensverabredungen oder auch Urlaube und f\xfcge deine Freunde hinzu"),r.a.createElement(k.a,{variant:"contained",color:"primary",size:"large",component:f.a,to:"/auth"},"Plane Los !")))}),P=(a(153),function(){var e=Object(n.useContext)(u);return r.a.createElement("div",{className:"startpage"},e.isLoggedIn?r.a.createElement(S,null):r.a.createElement(I,null))}),R=a(6),B=a.n(R),T=a(9),L=a(44),z=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),i=Object(p.a)(c,2),o=i[0],l=i[1],s=Object(n.useRef)([]),m=Object(n.useCallback)(function(){var e=Object(T.a)(B.a.mark((function e(t){var a,n,c,i,o,m,u=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"GET",n=u.length>2&&void 0!==u[2]?u[2]:null,c=u.length>3&&void 0!==u[3]?u[3]:{},r(!0),i=new AbortController,s.current.push(i),e.prev=6,e.next=9,fetch(t,{method:a,body:n,headers:c,signal:i.signal});case 9:return o=e.sent,e.next=12,o.json();case 12:if(m=e.sent,s.current=s.current.filter((function(e){return e!==i})),o.ok){e.next=16;break}throw new Error(m.message);case 16:return r(!1),e.abrupt("return",m);case 20:throw e.prev=20,e.t0=e.catch(6),l(e.t0.message),r(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.useEffect)((function(){return function(){s.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:o,sendRequest:m,clearError:function(){l(null)}}},F=a(227),_=a(212),M=a(211),q=a(205),A=a(224),D=a(34),W=a.n(D),G=a(204),U=(a(155),function(){var e=Object(n.useContext)(u),t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],i=a[1],o=Object(L.a)(),l=o.register,s=o.handleSubmit,m=o.errors,d=z(),f=d.isLoading,v=d.error,E=d.sendRequest,h=d.clearError,g=function(){var t=Object(T.a)(B.a.mark((function t(a){var n,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=12;break}return t.prev=1,t.next=4,E("https://event-with-me.herokuapp.com/api/users/login","POST",JSON.stringify({email:a.email,password:a.password}),{"Content-Type":"application/json"});case 4:n=t.sent,e.login(n.userId,n.token),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:t.next=21;break;case 12:return t.prev=12,t.next=15,E("https://event-with-me.herokuapp.com/api/users/signup","POST",JSON.stringify({name:a.name,email:a.email,password:a.password}),{"Content-Type":"application/json"});case 15:r=t.sent,e.login(r.userId,r.token),t.next=21;break;case 19:t.prev=19,t.t1=t.catch(12);case 21:case"end":return t.stop()}}),t,null,[[1,8],[12,19]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"AuthPage"},v&&r.a.createElement(A.a,{severity:"error",action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:h},r.a.createElement(W.a,{fontSize:"inherit"}))},v),f&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5",color:"primary"},c?"Einloggen":"Registrieren"),r.a.createElement("form",{autoComplete:"off",onSubmit:s(g)},!c&&r.a.createElement(F.a,{id:"profile-name",label:"Name",name:"name",inputRef:l({required:!0,minLength:2}),error:m.name,helperText:m.name&&"Der Name muss aus mindestens zwei Buchstaben bestehen"}),r.a.createElement(F.a,{id:"profile-email",label:"E-Mail",name:"email",inputRef:l({required:!0,pattern:{value:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/i}}),error:m.email,type:"email",helperText:m.email&&"Invalide Email Adresse"}),r.a.createElement(F.a,{id:"profile-passwort",label:"Passwort",name:"password",type:"password",inputRef:l({required:!0,minLength:6}),error:m.password,helperText:m.password&&"Das Passwot muss mindestens 7 Zeichen enthalten"}),r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},c?"Einloggen":"Registrieren"),r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(_.a,{variant:"body2",onClick:function(){i(!c)}},c?"Noch kein account? Registrieren":"Bereits Registriert? Login")))))}),J=Object(v.a)({EventCounter:{margin:"1rem",fontSize:"1.2rem"},EventFormTitle:{margin:"5rem 1rem 0"},Form:{display:"flex",flexDirection:"column",marginBottom:"5rem"},FieldMargin:{margin:"1rem"},ButtonsGrouped:{display:"flex",margin:"1rem",flexDirection:"row"},CancelButton:{flex:1,marginRight:"0.5rem"},CreateButton:{flex:1,marginLeft:"0.5rem"},CardWrapper:{maxWidth:"100%",margin:"1rem"},CardAction:{display:"flex"},CardMedia:{flexGrow:1,width:"40%"},CardContent:{flexGrow:1,width:"60%",height:"8rem"},EventDetailMedia:{height:0,paddingTop:"56.25%"},Avatar:{background:"#318fb5"},UserCardContent:{background:"#ecf5f8",display:"flex",alignItems:"center",padding:"1rem !important"},UserCardText:{marginLeft:"1rem",color:"#318fb5"},CategorySelector:{display:"grid",margin:"1rem"},ProfilePage:{display:"flex",flexDirection:"column",margin:"4.5rem 0 8rem"},ctaButton:{position:"fixed",bottom:"3.5rem",borderRadius:"0",width:"100%",height:"4rem"},NavigationButtonsGroup:{display:"flex",flexDirection:"column",margin:"1rem",alignItems:"center"},button:{marginTop:"1rem",width:"15rem"},Search:{display:"flex",flexDirection:"column"},SearchInput:{margin:"0.5rem 3rem"},SearchButton:{width:"fit-content",margin:"0.5rem 3rem",alignSelf:"flex-end"}}),V=a(213),H=a(214),K=a(216),$=a(215),Z=a(217),Q=a(97),X=a.n(Q),Y=a(98),ee=a.n(Y),te=a(99),ae=a.n(te),ne=a(100),re=a.n(ne),ce=(a(156),function(e){var t=J(),a=z(),c=a.isLoading,i=a.sendRequest,o=Object(n.useState)(),l=Object(p.a)(o,2),u=l[0],d=l[1],f=Object(n.useState)(!1),v=Object(p.a)(f,2),E=v[0],h=v[1],g=Object(n.useState)(!1),b=Object(p.a)(g,2),y=b[0],x=b[1],O=Object(n.useState)(!1),w=Object(p.a)(O,2),j=w[0],N=w[1],S=Object(s.useParams)().userId;Object(n.useEffect)((function(){(function(){var t=Object(T.a)(B.a.mark((function t(){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("https://event-with-me.herokuapp.com/api"+"/users/".concat(e.creatorId));case 3:a=t.sent,d(a.user.name),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[i,e.creatorId]);var I=function(){var t=Object(T.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("https://event-with-me.herokuapp.com/api"+"/events/event/".concat(e.id),"PUT",JSON.stringify({participants:S}),{"Content-Type":"application/json"});case 3:h(!0),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=Object(T.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("https://event-with-me.herokuapp.com/api"+"/events/event/".concat(e.id),"PATCH",JSON.stringify({participants:S}),{"Content-Type":"application/json"});case 3:x(!0),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(T.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("https://event-with-me.herokuapp.com/api"+"/events/event/".concat(e.id),"DELETE");case 3:N(!0),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"event-card"},c&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),r.a.createElement(V.a,{className:t.CardWrapper},r.a.createElement(H.a,{component:m.b,to:"/event/".concat(e.id)},r.a.createElement("div",{className:t.CardAction},r.a.createElement($.a,{className:t.CardMedia,image:e.image,title:"Contemplative Reptile"}),r.a.createElement(K.a,{className:t.CardContent},r.a.createElement(C.a,{gutterBottom:!0,variant:"h6",component:"h6"},e.title),r.a.createElement("div",{className:"event-card__info"},r.a.createElement("div",{className:"event-card__info--date"},r.a.createElement("p",{className:"event-card__info--title"},"Datum:"),r.a.createElement("p",{className:"event-card__info--value"},e.date)),r.a.createElement("div",{className:"event-card__info--location"},r.a.createElement("p",{className:"event-card__info--title"},"Ort:"),r.a.createElement("p",{className:"event-card__info--value"},e.location)),r.a.createElement("div",{className:"event-card__info--user"},r.a.createElement("p",{className:"event-card__info--user-title"},"Erstellt von"),r.a.createElement("p",{className:"event-card__info--user-value"},u&&u)))))),y&&r.a.createElement(A.a,{severity:"success"},"Veranstaltungs Teilnahme zur\xfcck genommen"),E&&r.a.createElement(A.a,{severity:"success"},"Teilnahme an Veranstaltung erfolgreich"),j&&r.a.createElement(A.a,{severity:"success"},"Veranstaltung wurde gel\xf6scht"),e.creator?r.a.createElement(Z.a,null,r.a.createElement(k.a,{disabled:j,size:"small",startIcon:r.a.createElement(ae.a,null),component:m.b,to:"/event/".concat(e.id,"/update")},"Bearbeiten"),r.a.createElement(k.a,{disabled:j,size:"small",color:"secondary",startIcon:r.a.createElement(re.a,null),onClick:R},"L\xf6schen")):e.participant?r.a.createElement(Z.a,null,r.a.createElement(k.a,{size:"small",color:"primary.dark",startIcon:r.a.createElement(X.a,null),onClick:P,disabled:y},"Ablehnen")):r.a.createElement(Z.a,null,r.a.createElement(k.a,{size:"small",color:"primary",startIcon:r.a.createElement(ee.a,null),onClick:I,disabled:E},"Teilnehmen"))))}),ie=(a(157),a(229)),oe=a(208),le=a(223),se=a(228),me=function(e){var t=J();return r.a.createElement(oe.a,{variant:"outlined",className:t.CategorySelector},r.a.createElement(se.a,{id:"demo-simple-select-helper-label"},"Kategorie"),r.a.createElement(le.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.category,onChange:function(t,a){e.setCategory(t.target.value)},label:"Kategorie"},r.a.createElement(ie.a,{value:""},r.a.createElement("em",null,"...")),r.a.createElement(ie.a,{value:"Essen & Trinken"},"Essen und Trinken"),r.a.createElement(ie.a,{value:"Grillen"},"Grillen"),r.a.createElement(ie.a,{value:"Geburtstag"},"Geburtstag"),r.a.createElement(ie.a,{value:"Party"},"Party"),r.a.createElement(ie.a,{value:"Lernen"},"Lernen"),r.a.createElement(ie.a,{value:"Urlaub"},"Urlaub"),r.a.createElement(ie.a,{value:"Sport"},"Sport"),r.a.createElement(ie.a,{value:"Spieleabend"},"Spieleabend")))},ue=function(){var e=Object(s.useParams)().userId,t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1],o=z(),l=o.isLoading,m=o.sendRequest,u=Object(n.useState)(),d=Object(p.a)(u,2),f=d[0],v=d[1];Object(n.useEffect)((function(){(function(){var t=Object(T.a)(B.a.mark((function t(){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("https://event-with-me.herokuapp.com/api"+"/events/".concat(e));case 3:a=t.sent,v(a.potentialEvents),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[m,e,v]);return r.a.createElement("div",{className:"EventPage page-inverted"},l&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),r.a.createElement(me,{setCategory:i}),""!==c?f&&f.filter((function(t){return t.category===c&&!t.participants.find((function(t){return t===e}))})).map((function(e){return r.a.createElement(ce,{key:e.id,id:e.id,title:e.title,category:e.category,location:e.location,creatorId:e.creatorId,creator:!0,participant:!1,date:e.date,image:e.image,potParticipants:e.potParticipants.length+1,participants:e.participants.length+1,onDelete:void v((function(e){return e.filter((function(e){return e.id===t}))}))});var t})):f&&f.filter((function(t){return!t.participants.find((function(t){return t===e}))})).map((function(e){return r.a.createElement(ce,{key:e.id,id:e.id,title:e.title,kategory:e.kategory,location:e.location,creatorId:e.creatorId,date:e.date,image:e.image,potParticipants:e.potParticipants.length+1,participants:e.participants.length+1})})))},pe=a(56),de=a.n(pe),fe=a(225),ve=a(222),Ee=a(102),he=a.n(Ee),ge=a(103),be=a.n(ge),ye=a(81),xe=a(24),Oe=a(221),we=function(){var e=J(),t=Object(L.a)(),a=t.register,c=t.handleSubmit,i=t.setValue,o=t.errors,l=Object(n.useState)(""),d=Object(p.a)(l,2),f=d[0],v=d[1],E=Object(n.useState)(),h=Object(p.a)(E,2),g=h[0],b=h[1],y=Object(n.useState)(new Date(Date.now()-0)),x=Object(p.a)(y,2),O=x[0],w=x[1],j=z(),N=j.isLoading,S=j.error,I=j.sendRequest,P=j.clearError,R=Object(n.useContext)(u);Object(n.useEffect)((function(){(function(){var e=Object(T.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("https://event-with-me.herokuapp.com/api"+"/users/".concat(R.userId,"/friends"));case 3:t=e.sent,b(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[I,R.userId]);Object(n.useEffect)((function(){i("category",f)}),[f,i]),Object(n.useEffect)((function(){a("potParticipants"),a("category")}),[a]);var _=Object(s.useHistory)(),M=function(){var e=Object(T.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("https://event-with-me.herokuapp.com/api/events","POST",JSON.stringify({title:t.title,description:t.description,category:t.category,location:t.location,date:t.date,creatorId:R.userId,image:t.image,potParticipants:t.potParticipants}),{"Content-Type":"application/json"});case 3:_.push("/".concat(R.userId,"/profile")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.EventForm},N&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),r.a.createElement(C.a,{className:e.EventFormTitle,component:"h5",variant:"h5",color:"primary"},"Neues Event"),r.a.createElement("form",{autoComplete:"off",className:e.Form,onSubmit:c(M)},r.a.createElement(F.a,{className:e.FieldMargin,id:"event-name",name:"title",label:"Name des Events",inputRef:a({required:!0,minLength:3,maxLength:20}),error:o.title,helperText:o.title&&"Name des Events min=3 max=20"}),r.a.createElement(F.a,{className:e.FieldMargin,id:"event-location",name:"location",label:"Standort",inputRef:a({required:!0,minLength:3,maxLength:20}),error:o.location,helperText:o.location&&"Bitte Standort angeben"}),r.a.createElement(xe.a,{className:e.FieldMargin,utils:ye.a},r.a.createElement(Oe.a,{disablePast:!0,className:e.FieldMargin,margin:"normal",name:"date",inputRef:a({required:!0}),id:"date-picker-dialog",label:"Date picker dialog",format:"dd/MM/yyyy",value:O,onChange:function(e){w(e)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(F.a,{className:e.FieldMargin,id:"event-description",label:"Beschreibung",name:"description",inputRef:a({required:!0,maxLength:200}),multiline:!0,rows:5,rowsMax:5,variant:"outlined",error:o.description,helperText:o.description&&"Bitte eine Beschreibung angeben max 200 W\xf6rter"}),r.a.createElement(me,{value:f,setCategory:v}),r.a.createElement(ve.a,{name:"availableParticipants",onChange:function(e,t){i("potParticipants",t.map((function(e){return e._id})))},className:e.FieldMargin,multiple:!0,id:"checkboxes-tags-demo",options:g?g.friends:"",disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{icon:r.a.createElement(he.a,{fontSize:"small"}),checkedIcon:r.a.createElement(be.a,{fontSize:"small"}),checked:a}),e.name)},style:{color:"red"},renderInput:function(e){return r.a.createElement(F.a,Object.assign({},e,{variant:"outlined",label:"Freunde",placeholder:"Freunde"}))}}),S&&r.a.createElement(A.a,{severity:"error",action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:P},r.a.createElement(W.a,{fontSize:"inherit"}))},S),r.a.createElement("div",{className:e.ButtonsGrouped},r.a.createElement(k.a,{component:m.b,to:"/".concat(R.userId,"/profile"),variant:"outlined",color:"primary",className:e.CancelButton,startIcon:r.a.createElement(W.a,null)},"Abbrechen"),r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary",className:e.CreateButton,startIcon:r.a.createElement(de.a,null)},"Erstellen"))))},je=function(){return r.a.createElement("div",{className:"NewEventPage"},'"hallo hier Bin ich"',r.a.createElement(we,null))},Ne=function(){var e=J(),t=Object(L.a)(),a=t.register,c=t.handleSubmit,i=t.errors,o=Object(n.useState)(),l=Object(p.a)(o,2),d=l[0],f=l[1],v=Object(n.useState)(""),E=Object(p.a)(v,2),h=E[0],g=E[1],b=z(),y=b.isLoading,x=b.error,O=b.sendRequest,w=b.clearError,j=Object(n.useContext)(u),N=Object(s.useParams)().eventId;Object(n.useEffect)((function(){(function(){var e=Object(T.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("https://event-with-me.herokuapp.com/api"+"/events/event/".concat(N));case 3:t=e.sent,f(t.event),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[O,N]);var S=Object(s.useHistory)(),I=function(){var e=Object(T.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("https://event-with-me.herokuapp.com/api"+"/events/event/".concat(N,"/edit"),"PATCH",JSON.stringify({title:t.title,description:t.description,date:t.date}),{"Content-Type":"application/json"});case 3:S.push("/".concat(j.userId,"/profile")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.EventForm},y&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),r.a.createElement(C.a,{className:e.EventFormTitle,component:"h5",variant:"h5",color:"primary"},"Veranstaltung bearbeiten"),d&&r.a.createElement("form",{autoComplete:"off",className:e.Form,onSubmit:c(I)},r.a.createElement(F.a,{className:e.FieldMargin,id:"event-name",name:"title",label:"Name des Events",inputRef:a({required:!0,minLength:3,maxLength:20}),error:i.title,helperText:i.title&&"Name des Events min=3 max=20",defaultValue:d.title}),r.a.createElement(xe.a,{className:e.FieldMargin,utils:ye.a},r.a.createElement(Oe.a,{disablePast:Date.now(),className:e.FieldMargin,margin:"normal",name:"date",inputRef:a({required:!0}),id:"date-picker-dialog",format:"dd/MM/yyyy",value:h,onChange:function(e){g(e)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(F.a,{className:e.FieldMargin,id:"event-description",label:"Beschreibung",name:"description",inputRef:a({required:!0,maxLength:200}),multiline:!0,rows:5,rowsMax:5,variant:"outlined",error:i.description,defaultValue:d.description,helperText:i.description&&"Bitte eine Beschreibung angeben max 200 W\xf6rter"}),x&&r.a.createElement(A.a,{severity:"error",action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:w},r.a.createElement(W.a,{fontSize:"inherit"}))},x),r.a.createElement("div",{className:e.ButtonsGrouped},r.a.createElement(k.a,{component:m.b,to:"/".concat(j.userId,"/profile"),variant:"outlined",color:"primary",className:e.CancelButton,startIcon:r.a.createElement(W.a,null)},"Abbrechen"),r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary",className:e.CreateButton,startIcon:r.a.createElement(de.a,null)},"Speichern"))))},ke=function(){return r.a.createElement("div",{className:"NewEventPage"},'"hallo hier Bin ich"',r.a.createElement(Ne,null))},Se=a(218),Ce=a(230),Ie=a(219),Pe=a(105),Re=a.n(Pe),Be=a(106),Te=a.n(Be),Le=a(108),ze=a.n(Le),Fe=a(107),_e=a.n(Fe),Me=a(104),qe=a.n(Me),Ae=a(109),De=a.n(Ae),We=(a(158),function(e){var t=J(),a=Object(n.useState)(),c=Object(p.a)(a,2);c[0],c[1];return r.a.createElement(V.a,{className:t.CardWrapper,key:1},r.a.createElement(Se.a,{avatar:r.a.createElement(Ce.a,{"aria-label":"recipe",color:"primary",className:t.Avatar},r.a.createElement(qe.a,null)),title:e.title,subheader:e.date}),r.a.createElement($.a,{className:t.EventDetailMedia,image:e.image,title:e.title}),r.a.createElement(K.a,null,r.a.createElement("div",{className:"information"},r.a.createElement(Re.a,{color:"primary"}),r.a.createElement("div",{className:"text"},r.a.createElement(C.a,{gutterBottom:!0,variant:"body1",component:"p"},"Standort"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},e.location))),r.a.createElement(Ie.a,null),r.a.createElement("div",{className:"information"},r.a.createElement(Te.a,{color:"primary"}),r.a.createElement("div",{className:"text"},r.a.createElement(C.a,{gutterBottom:!0,variant:"body1",component:"p"},"Datum"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},e.date))),r.a.createElement(Ie.a,null),r.a.createElement("div",{className:"information"},r.a.createElement(_e.a,{color:"primary"}),r.a.createElement("div",{className:"text"},r.a.createElement(C.a,{gutterBottom:!0,variant:"body1",component:"p"},"Kategorie"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},e.category))),r.a.createElement(Ie.a,null),r.a.createElement("div",{className:"information"},r.a.createElement(ze.a,{color:"primary"}),r.a.createElement("div",{className:"text"},r.a.createElement(C.a,{gutterBottom:!0,variant:"body1",component:"p"},"Beschreibung"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},e.description))),r.a.createElement(Ie.a,null),r.a.createElement("div",{className:"information"},r.a.createElement(De.a,{color:"primary"}),r.a.createElement("div",{className:"text"},r.a.createElement(C.a,{gutterBottom:!0,variant:"body1",component:"p"},"Teilnehmer"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},e.participants+"/"+e.potParticipants)))))}),Ge=function(e){var t=Object(s.useParams)().eventId,a=Object(n.useState)(),c=Object(p.a)(a,2),i=c[0],o=c[1],l=z(),m=l.isLoading,u=l.sendRequest;return Object(n.useEffect)((function(){(function(){var e=Object(T.a)(B.a.mark((function e(){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("https://event-with-me.herokuapp.com/api"+"/events/event/".concat(t));case 3:a=e.sent,o(a.event),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[u,t]),r.a.createElement("div",{className:"page"},m&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),i&&r.a.createElement(We,{id:i.id,title:i.title,category:i.category,location:i.location,createdBy:i.createdBy,date:i.date,image:i.image,potParticipants:i.potParticipants.length+1,participants:i.participants.length+1,description:i.description}))},Ue=a(110),Je=a.n(Ue),Ve=a(210),He=function(e){var t=J();return r.a.createElement("div",{className:"user-card"},r.a.createElement(V.a,{className:t.CardWrapper},r.a.createElement(K.a,{className:t.UserCardContent},r.a.createElement(Ce.a,{src:"https://robohash.org/"+e.name,className:t.Avatar}),r.a.createElement("div",{className:t.UserCardText},r.a.createElement(C.a,null,e.name),r.a.createElement(C.a,null,e.email)))))},Ke=function(e){var t=e.items;return r.a.createElement(Ve.a,null,t.friends.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(He,{key:e._id,id:e._id,name:e.name,email:e.email}))})))},$e=function(){var e=J(),t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(),l=Object(p.a)(o,2),s=l[0],m=l[1],d=Object(L.a)(),f=d.register,v=d.handleSubmit,E=d.errors,h=z(),g=h.isLoading,b=h.error,y=h.sendRequest,x=h.clearError,O=Object(n.useContext)(u);Object(n.useEffect)((function(){(function(){var e=Object(T.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("https://event-with-me.herokuapp.com/api"+"/users/".concat(O.userId,"/friends"));case 3:t=e.sent,m(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[y,O.userId]);var w=function(){var e=Object(T.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("https://event-with-me.herokuapp.com/api"+"/users//".concat(O.userId,"/friends"),"PATCH",JSON.stringify({email:t.email}),{"Content-Type":"application/json"});case 3:i(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"FriendsPage page-inverted"},r.a.createElement("form",{className:e.Search,onSubmit:v(w)},c?r.a.createElement(A.a,{action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){i(!1)}},r.a.createElement(W.a,{fontSize:"inherit"}))},"Benutzer wurde gefunden"):""," ",b?r.a.createElement(A.a,{severity:"error",action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:x},r.a.createElement(W.a,{fontSize:"inherit"}))},b):"",r.a.createElement(F.a,{id:"profile-email",className:e.SearchInput,label:"E-Mail",name:"email",inputRef:f({required:!0,pattern:{value:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/i}}),error:E.email,type:"email",helperText:E.email&&"Invalide Email Adresse"}),r.a.createElement(k.a,{type:"submit",className:e.SearchButton,variant:"contained",color:"primary",size:"large",startIcon:r.a.createElement(Je.a,null)},"Freunde hinzuf\xfcgen")),!g&&s&&r.a.createElement(Ke,{items:s}))},Ze=(a(159),function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header--logo"},r.a.createElement(k.a,{color:"inherit",component:f.a,to:"/"},r.a.createElement("img",{src:a(93),alt:"event-with-me"}))))}),Qe=function(){var e=J(),t=Object(s.useParams)().userId,a=z(),c=a.isLoading,i=a.sendRequest,o=Object(n.useState)(),l=Object(p.a)(o,2),m=l[0],u=l[1];return Object(n.useEffect)((function(){(function(){var e=Object(T.a)(B.a.mark((function e(){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("https://event-with-me.herokuapp.com/api"+"/events/".concat(t,"/created-events"));case 3:a=e.sent,u(a.events),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[i,t]),r.a.createElement("div",{className:"CreatedEventsPage page-inverted"},c&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),r.a.createElement(C.a,{gutterBottom:!0,variant:"body1",color:"primary",className:e.EventCounter,component:"h6"},m&&m.length," erstellte Veranstaltungen"),m&&m.map((function(e){return r.a.createElement(ce,{key:e.id,id:e.id,title:e.title,kategory:e.kategory,location:e.location,creatorId:e.creatorId,date:e.date,image:e.image,creator:!0,participant:!1})})))},Xe=function(){var e=J(),t=Object(n.useState)(),a=Object(p.a)(t,2),c=a[0],i=a[1],o=z().sendRequest,l=Object(s.useParams)().userId;return Object(n.useEffect)((function(){(function(){var e=Object(T.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o("https://event-with-me.herokuapp.com/api"+"/users/".concat(l));case 3:t=e.sent,i(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[o,l]),r.a.createElement("div",{className:e.ProfilePage},c&&r.a.createElement(He,{key:c.user.id,id:c.user.id,name:c.user.name,email:c.user.email}),r.a.createElement("div",{className:e.NavigationButtonsGroup},r.a.createElement(k.a,{className:e.button,variant:"outlined",color:"primary",component:f.a,to:"/".concat(l,"/my-events"),size:"large"},"Erstellte Events"),r.a.createElement(k.a,{className:e.button,variant:"outlined",color:"primary",component:f.a,to:"/".concat(l,"/participation"),size:"large"},"Teilnahmen"),r.a.createElement(k.a,{className:e.button,variant:"outlined",color:"primary",component:f.a,to:"/".concat(l,"/friends"),size:"large"},"Freunde")),r.a.createElement(k.a,{variant:"contained",color:"primary",className:e.ctaButton,startIcon:r.a.createElement(de.a,null),size:"large",component:f.a,to:"/event/new"},"Event erstellen"))},Ye=function(){var e=J(),t=Object(s.useParams)().userId,a=z(),c=a.isLoading,i=a.sendRequest,o=Object(n.useState)(),l=Object(p.a)(o,2),m=l[0],u=l[1];return Object(n.useEffect)((function(){(function(){var e=Object(T.a)(B.a.mark((function e(){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("https://event-with-me.herokuapp.com/api"+"/events/".concat(t,"/participant"));case 3:a=e.sent,u(a.participateEvents),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[i,t]),r.a.createElement("div",{className:"ParticipationPage page-inverted"},c&&r.a.createElement("div",{className:"loading-modal"},r.a.createElement(q.a,null)),r.a.createElement(C.a,{gutterBottom:!0,variant:"body1",color:"primary",className:e.EventCounter,component:"h6"},"Teilnahme an ",m&&m.length," ","Veranstaltungen"),m&&m.map((function(e){return r.a.createElement(ce,{key:e.id,id:e.id,title:e.title,kategory:e.kategory,location:e.location,creatorId:e.creatorId,date:e.date,image:e.image,creator:!1,participant:!0})})))};a(160);var et=function(){var e,t=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),o=i[0],l=i[1],s=Object(n.useCallback)((function(e,t){r(t),l(e),localStorage.setItem("userData",JSON.stringify({userId:e,token:t}))}),[]),m=Object(n.useCallback)((function(){r(null),l(null),localStorage.removeItem("userData")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&s(e.userId,e,a)}),[s]),{token:a,login:s,logout:m,userId:o}}(),a=t.token,c=t.login,i=t.logout,o=t.userId;return e=a?r.a.createElement(s.Switch,null,r.a.createElement(s.Route,{path:"/",exact:!0,component:P}),r.a.createElement(s.Route,{path:"/:userId/profile",exact:!0,component:Xe}),r.a.createElement(s.Route,{path:"/:userId/my-events",exact:!0,component:Qe}),r.a.createElement(s.Route,{path:"/:userId/friends",exact:!0,component:$e}),r.a.createElement(s.Route,{path:"/event/new",exact:!0,component:je}),r.a.createElement(s.Route,{path:"/event/:eventId/update",exact:!0,component:ke}),r.a.createElement(s.Route,{path:"/:userId/events",exact:!0,component:ue}),r.a.createElement(s.Route,{path:"/event/:eventId",exact:!0,component:Ge}),r.a.createElement(s.Route,{path:"/:userId/participation",exact:!0,component:Ye}),r.a.createElement(s.Redirect,{to:"/"})):r.a.createElement(s.Switch,null,r.a.createElement(s.Route,{path:"/",exact:!0,component:P}),r.a.createElement(s.Route,{path:"/auth",exact:!0,component:U}),r.a.createElement(s.Redirect,{to:"/auth"})),r.a.createElement(u.Provider,{value:{isLoggedIn:!!a,token:a,userId:o,login:c,logout:i}},r.a.createElement(m.a,null,r.a.createElement(Ze,null),r.a.createElement("main",null,e),r.a.createElement(N,null)))},tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function at(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var nt=Object(o.a)({palette:{primary:{light:"#b0cac7",main:"#318fb5",textPrimary:"#fff",dark:"#00416d"},secondary:{light:"#0066ff",main:"#ce1126",textPrimary:"#fff"},error:{main:"#ce1126",textPrimary:"#fff"},contrastThreshold:3,tonalOffset:.2},typography:{fontFamily:"Nunito Sans"}});i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{theme:nt},r.a.createElement(et,null))),document.getElementById("root"));t.default=nt;!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):at(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):at(t,e)}))}}()},93:function(e,t,a){e.exports=a.p+"static/media/Logo.c98ff47c.png"}},[[136,1,2]]]);
//# sourceMappingURL=main.673ac10d.chunk.js.map